\section{Policy}

\begin{frame}
  \frametitle{Policy}
  \begin{itemize}
    \item The scheduling algorithm used by the system.
    \item Each of them requires different parameters.
      \begin{itemize}
        \item Provide by user 
        \item System statistics
      \end{itemize}
    \item Administrators can select different policies to fit their
      need.
  \end{itemize}
\end{frame}
\begin{frame}
  \frametitle{Outline}
  \tableofcontents[
    currentsubsection,
    sectionstyle=show/shaded,
    subsectionstyle=show/show/hide,
  ]
\end{frame}
\subsection{Priority-based}

\begin{frame}
  \frametitle{Policy -- Priority-based}
  %TODO for different needs, use different policies
  %If no deadline, only priority is specified. e.g., research experiment
  \only<1>{
    \begin{itemize}
      \item Finish the job with highest priority as fast as possible.
      \item Preserves workers to relieve starvation of low priority ones.
      \item Considers priority only.
      \item Good for facilities whose applications do not have hard time
        limit, such as research experiment.
    \end{itemize}
  }
  \ifshowalgo\only<2>{\scriptsize
    \resizebox{.9\textwidth}{!}{
      \begin{algorithm}[H]
        \DontPrintSemicolon % Some LaTeX compilers require you to use
        \input{snippets/policies/priority-based-policy}
        \caption{Priority-based policy}
        \label{algo:priority-based}
      \end{algorithm}
    }
  }\fi
\end{frame}

\subsection{Proportion-based}
\begin{frame}
  \frametitle{Policy -- Proportion-based}
  \only<1>{
    \begin{itemize}
      \item Allocates resource proportionally according to workload 
      \item "Fair-share scheduling"\footnote[frame]{\tiny\fullcite{cite:fair-share-scheduling}}
      \item Good for streaming jobs or jobs with dependency
    \end{itemize}
  }
  \ifshowalgo\only<2>{\scriptsize
    \resizebox{.9\textwidth}{!}{
      \begin{algorithm}[H]
        \DontPrintSemicolon % Some LaTeX compilers require you to use
        \input{snippets/policies/proportion-based-policy}
        \caption{Proportion-based policy}
        \label{algo:proportion-based}
      \end{algorithm}
    }
  }\fi
\end{frame}

\subsection{Workload-based}
\begin{frame}
  \frametitle{Policy -- Workload-based}
  \only<1>{
    \begin{itemize}
      \item Considers both priority and workload.
      \item Meets high priority requirements first.
      \item Gives just enough resource to meet the requirement.
      \item Achieves \emph{heterogeneity-aware} allocation by always allocating
        workers that run the job fastest.
    \end{itemize}
  }
  \ifshowalgo\only<2>{\scriptsize
    \resizebox{.9\textwidth}{!}{
      \begin{algorithm}[H]
        \DontPrintSemicolon % Some LaTeX compilers require you to use
        \input{snippets/policies/workload-based-policy}
        \caption{Workload-based policy}
        \label{algo:workload-based}
      \end{algorithm}
    }
  }\fi
\end{frame}

\subsection{Deadline-based}

\begin{frame}
  \frametitle{Policy -- Deadline-based}
  \only<1>{
    \begin{itemize}
      \item Scenario: billing accounting
      \item Uses deadlines to estimate required workload and apply
        the workload-based policy
      \item Allocates resource just enough to meet deadlines
      \item \emph{Heterogeneity-aware} scheduling
    \end{itemize}
  }
  \ifshowalgo\only<2>{\scriptsize
    \resizebox{.9\textwidth}{!}{
      \begin{algorithm}[H]
        \DontPrintSemicolon % Some LaTeX compilers require you to use
        \input{snippets/policies/deadline-based-policy}
        \caption{Deadline-based policy}
        \label{algo:deadline-based}
      \end{algorithm}
    }
  }\fi
\end{frame}

